[service]
type = "web"
env = "python"

[build]
builder = "NIXPACKS"
buildCommand = "cd robot_monitoring && pip install -r requirements.txt && python manage.py collectstatic --noinput"

[deploy]
startCommand = "cd robot_monitoring && gunicorn robot_monitoring.wsgi:application --bind 0.0.0.0:$PORT"

[env]
DEBUG = "False"
SECRET_KEY = "${{ generate }}"
ALLOWED_HOSTS = ".railway.app,.railway.app,localhost,127.0.0.1"
DJANGO_SETTINGS_MODULE = "robot_monitoring.settings"